<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relación II - Ejercicio 14</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h3>Conversor de Nota a Clasificación</h3>
                    </div>
                    <div class="card-body">
                        <div id="error-container" class="alert alert-danger" style="display: none;"></div>

                        <form id="form-nota" action="ejercicio14_proceso.php" method="post" novalidate>
                            <div class="mb-3">
                                <label for="nota" class="form-label">Nota Numérica</label><br>
                                <input type="text" class="form-control" id="nota" name="nota">
                            </div>
                            <button type="submit" class="btn btn-primary w-100">Obtener Calificación</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById("form-nota").addEventListener("submit", function(event){
            const nota = document.getElementById("nota");
            const errorContainer = document.getElementById("error-container");
            const valorNota = nota.value.trim();

            let errores = [];

            if(valorNota == ""){
                errores.push("La nota no puede estar vacía.");
            }else if(isNaN(valorNota)){
                errores.push("El valor debe ser númerico");
            }else if((!Number.isInteger(parseFloat(valorNota)))){
                errores.push("La nota debe ser un número entero.");
            }else{
                const num = parseInt(valorNota);
                if(num < 1 || num > 10){
                    errores.push("La nota debe estar entre 1 y 10.")
                }
            }

            if(errores.length > 0){
                event.preventDefault(); //Detiene el envío
                errorContainer.innerHTML = errores.join("<br>");
                errorContainer.style.display = "block";
                nota.classList.add("is-invalid");
            }else{
                errorContainer.style.display = "none";
                nota.classList.remove("is-invalid");
            }
        });
    </script>


</body>
</html>